name: test
on:
  pull_request:
    branches: main

jobs:
  diff:
    name: Check file changes
    runs-on: ubuntu-latest
    steps:
     - uses: actions/checkout@b4ffde65f46336ab88eb53be808477a3936bae11 # v4
       with: 
         ref: ${{ github.event.pull_request.head.sha }}
     - name: Count non-txt file changes except module3
       id: diff-non-txt
       uses: tj-actions/changed-files@40526807ee1e208a1a8c1bbe6bd2d1b044ef6368 # v40.0.2
       with:
         files: "**\nmodule3/**/*.txt"
         files_ignore: "**/*.txt"
     - name: List all changed files except for .txt files outside module3
       run: |
         for file in ${{ steps.diff-non-txt.outputs.all_changed_files }}; do
           echo "$file was changed"
         done
